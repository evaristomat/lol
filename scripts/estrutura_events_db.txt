# Estrutura do Banco de Dados: lol_esports.db

## Resumo Geral
- **Total de tabelas:** 10
- **Registros principais:** 3.402 estatÃ­sticas de mapas, 351 partidas, 563 mapas jogados
- **Times cadastrados:** 192

---

## ğŸ“Š TABELAS PRINCIPAIS

### 1. **teams** (192 registros)
```
team_id (INTEGER) ğŸ”‘ - ID Ãºnico do time
name (TEXT) âš ï¸ - Nome do time
image_id (TEXT) - ID da imagem
country_code (TEXT) - CÃ³digo do paÃ­s
created_at (DATETIME) - Data de criaÃ§Ã£o
```

### 2. **matches** (351 registros)
```
match_id (INTEGER) ğŸ”‘ - ID Ãºnico da partida
bet365_id (TEXT) âš ï¸ - ID no Bet365
sport_id (INTEGER) - ID do esporte
league_id (INTEGER) - ID da liga
home_team_id (INTEGER) - ID do time da casa
away_team_id (INTEGER) - ID do time visitante
event_time (DATETIME) - Data/hora da partida
time_status (INTEGER) - Status da partida
final_score (TEXT) - Placar final (ex: "2-0")
retrieved_at (DATETIME) - Quando foi coletado
created_at (DATETIME) - Data de criaÃ§Ã£o
updated_at (DATETIME) - Ãšltima atualizaÃ§Ã£o
```

### 3. **game_maps** (563 registros)
```
map_id (INTEGER) ğŸ”‘ - ID Ãºnico do mapa
match_id (INTEGER) - ID da partida
map_number (INTEGER) - NÃºmero do mapa (1, 2, 3...)
created_at (DATETIME) - Data de criaÃ§Ã£o
```

### 4. **map_statistics** (3.402 registros) â­ PRINCIPAL
```
stat_id (INTEGER) ğŸ”‘ - ID Ãºnico da estatÃ­stica
map_id (INTEGER) - ID do mapa
stat_name (TEXT) - Nome da estatÃ­stica (kills, dragons, barons, etc.)
home_value (TEXT) - Valor para o time da casa
away_value (TEXT) - Valor para o time visitante
created_at (DATETIME) - Data de criaÃ§Ã£o
```

### 5. **leagues** (34 registros)
```
league_id (INTEGER) ğŸ”‘ - ID Ãºnico da liga
name (TEXT) âš ï¸ - Nome da liga (ex: "LOL - LCK Summer")
created_at (DATETIME) - Data de criaÃ§Ã£o
```

---

## ğŸ”— RELACIONAMENTOS

```
teams (team_id) â†â†’ matches (home_team_id, away_team_id)
matches (match_id) â†â†’ game_maps (match_id)
game_maps (map_id) â†â†’ map_statistics (map_id)
leagues (league_id) â†â†’ matches (league_id)
```

---

## ğŸ“ˆ TABELAS DE ODDS (VAZIAS)

### event_odds (0 registros)
```
odds_id (INTEGER) ğŸ”‘
event_id (TEXT) âš ï¸
bet365_id (TEXT) âš ï¸
updated_at (DATETIME)
created_at (DATETIME)
```

### odds_markets (0 registros)
```
market_id (INTEGER) ğŸ”‘
odds_id (INTEGER)
market_type (TEXT)
market_name (TEXT)
updated_at (DATETIME)
```

### odds_values (0 registros)
```
odds_value_id (INTEGER) ğŸ”‘
market_id (INTEGER)
selection_id (TEXT)
header (TEXT)
name (TEXT)
handicap (TEXT)
odds (REAL)
updated_at (DATETIME)
```

---

## ğŸ› ï¸ TABELAS AUXILIARES

### update_logs (11 registros)
```
log_id (INTEGER) ğŸ”‘
update_type (TEXT)
items_processed (INTEGER)
new_items (INTEGER)
success (BOOLEAN)
error_message (TEXT)
created_at (DATETIME)
```

### sqlite_sequence (4 registros)
```
name () - Nome da tabela
seq () - PrÃ³ximo ID sequencial
```

---

## ğŸ¯ CONSULTAS PARA ESTATÃSTICAS

Para implementar `get_team_stats()`, precisamos:

1. **Buscar partidas do time:**
```sql
SELECT match_id, home_team_id, away_team_id 
FROM matches 
WHERE home_team_id = ? OR away_team_id = ?
ORDER BY event_time DESC 
LIMIT 10
```

2. **Buscar mapas das partidas:**
```sql
SELECT map_id 
FROM game_maps 
WHERE match_id IN (lista_de_match_ids)
```

3. **Buscar estatÃ­sticas dos mapas:**
```sql
SELECT stat_name, home_value, away_value
FROM map_statistics 
WHERE map_id IN (lista_de_map_ids)
AND stat_name IN ('kills', 'dragons', 'barons', 'towers', 'inhibitors')
```

---

## ğŸ“ EXEMPLOS DE DADOS

### Amostra teams:
```
team_id: 10359420, name: "DRX"
team_id: 10361241, name: "Invictus Gaming"
team_id: 10361254, name: "Team Vitality"
```

### Amostra matches:
```
match_id: 1, bet365_id: "179606648", home_team_id: 10868541, away_team_id: 11240855
final_score: "2-0", event_time: "2025-08-19 04:00:00"
```

### PossÃ­veis stat_name em map_statistics:
- kills
- dragons  
- barons
- towers
- inhibitors
- gold
- damage
- vision_score
- etc.

---

## âš ï¸ OBSERVAÃ‡Ã•ES IMPORTANTES

1. **Dados de Odds:** As tabelas `event_odds`, `odds_markets` e `odds_values` estÃ£o vazias
2. **IDs dos Times:** Usar `team_id` para relacionamentos
3. **EstatÃ­sticas por Time:** Em `map_statistics`, `home_value` Ã© para o time da casa, `away_value` para o visitante
4. **Mapas por Partida:** Uma partida pode ter vÃ¡rios mapas (1, 2, 3...)
5. **Dados Recentes:** Partidas de agosto/2025, dados bem atualizados